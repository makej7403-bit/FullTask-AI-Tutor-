<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>FullTask AI Tutor</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <div class="app">
    <aside class="sidebar" id="sidebar">
      <div class="brand">
        <div class="logo">FT</div>
        <div>
          <div class="title">FullTask AI</div>
          <div class="subtitle">AI Tutor ‚Äî Akin S Sokpah (Liberia)</div>
        </div>
      </div>

      <div class="account">
        <button id="signInBtn" class="btn">Sign in with Google</button>
        <button id="signOutBtn" class="btn secondary" style="display:none">Sign out</button>
        <div id="userInfo" class="muted small" style="margin-top:8px"></div>
      </div>

      <div class="tools">
        <input id="toolSearch" placeholder="Search tools..." />
        <div id="toolList" class="tool-list"></div>
      </div>

      <div class="sidebar-foot muted small">
        Contact: <a href="https://www.facebook.com/profile.php?id=61583456361691" target="_blank">Facebook</a><br/>
        sokpahakinsaye@gmail.com
      </div>
    </aside>

    <main class="main">
      <header class="topbar">
        <div>
          <div class="page-title">FullTask AI Tutor</div>
          <div id="activeTool" class="muted small">AI Assistant</div>
        </div>
        <div>
          <button id="ttsBtn" class="btn secondary">Speak Reply</button>
          <button id="joinCallBtn" class="btn secondary">Join Live Call</button>
        </div>
      </header>

      <section class="content">
        <div class="grid">
          <section class="tools-grid card">
            <h3>Tools</h3>
            <div id="toolsGrid" class="grid-items"></div>
          </section>

          <section class="chat-panel card">
            <div id="chatWindow" class="chat-window" role="log" aria-live="polite"></div>

            <div class="composer">
              <textarea id="promptInput" placeholder="Ask FullTask AI Tutor..." rows="4"></textarea>
              <div class="composer-actions">
                <div class="left-actions">
                  <button id="startRec" class="icon-btn">üé§</button>
                  <button id="stopRec" class="icon-btn" disabled>‚èπ</button>
                </div>
                <div class="right-actions">
                  <button id="resetBtn" class="btn secondary">Reset</button>
                  <button id="runBtn" class="btn primary">Run</button>
                </div>
              </div>
            </div>
          </section>

          <aside class="sidecard card">
            <h4>Feature Help</h4>
            <div id="featureHelp" class="muted">Select a tool to see example prompts.</div>
            <div class="divider"></div>
            <h4>Recording</h4>
            <div class="muted small">Record voice, transcribe and send to AI.</div>
          </aside>
        </div>
      </section>

      <footer class="footer muted small">
        FullTask AI Tutor ‚Äî Created by Akin S Sokpah from Liberia
      </footer>
    </main>
  </div>

  <!-- Firebase client (Google Sign-In) -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
    import { getAuth, GoogleAuthProvider, signInWithPopup, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyC7cAN-mrE2PvmlQ11zLKAdHBhN7nUFjHw",
      authDomain: "fir-u-c-students-web.firebaseapp.com",
      databaseURL: "https://fir-u-c-students-web-default-rtdb.firebaseio.com",
      projectId: "fir-u-c-students-web",
      storageBucket: "fir-u-c-students-web.firebasestorage.app",
      messagingSenderId: "113569186739",
      appId: "1:113569186739:web:d8daf21059f43a79e841c6"
    };

    const fbApp = initializeApp(firebaseConfig);
    const auth = getAuth(fbApp);
    const provider = new GoogleAuthProvider();

    // expose helpers to app.js via global container
    window.__FT__ = window.__FT__ || {};
    window.__FT__.auth = auth;
    window.__FT__.provider = provider;
    window.__FT__.signInWithPopup = signInWithPopup;
    window.__FT__.signOut = signOut;
    window.__FT__.onAuthStateChanged = onAuthStateChanged;
  </script>

  <!-- App JS -->
  <script type="module" src="./app.js"></script>
</body>
</html>
